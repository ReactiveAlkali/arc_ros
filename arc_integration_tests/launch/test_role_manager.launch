<!-- This integration test tests the functionality of the role manager module.  The test is started
  by sending the following command: rosservice call -->

<launch>
  <master auto="start"/>
  <arg name="robot_type" default="maxbot"/>
  <param name="/use_sim_time" value="true"/>

  <node pkg="map_server" type="map_server" name="map_server" args="$(find arc_stage)/maps/config/test/test_clean_debris_ms.yaml" respawn="false" >
    <param name="frame_id" value="/map" />
  </node>

  <group ns="arc">
    <node pkg="arc_stage" type="arc_stage" name="arc_stage" args="-u $(find arc_stage)/world/test_$(arg robot_type)_task_explore.world" respawn="false">
      <param name="base_watchdog_timeout" value="0.2"/>
    </node>
    <include file="$(find arc_control)/launch/robots/$(arg robot_type)/$(arg robot_type).launch">
      <arg name="robot_name" value="test_bot"/>
    </include>
    <node name="role_manager_test" pkg="arc_integration_tests" type="role_manager_test" output="screen"></node>
  </group>
</launch>
